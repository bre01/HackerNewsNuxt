{"version":3,"file":"_id_-2a08f66c.js","sources":["../../../../components/Time.vue","../../../../components/reply.vue","../../../../components/Comments.vue","../../../../pages/[id].vue"],"sourcesContent":["<script>\nimport timestamp  from \"unix-timestamp\";\n    export default {\n        props: ['time'],\n        data() {\n            return {\n                abs_time: null,\n                relative_time: null\n            }\n        },\n        mounted() {\n            const pattern = / GMT\\+0800 \\(China Standard Time\\)$/;\n            this.abs_time = timestamp.toDate(this.time).toString().replace(pattern, '');\n        },\n        computed: {\n            relative_time() {\n                var a={ hour: Math.round((parseInt(timestamp.now()) - parseInt(this.time)) / 3600), min: (parseInt(timestamp.now()) - parseInt(this.time)) % 60 };\n                return `${a.hour} hours ago`;\n\n            }\n    }}\n</script>\n\n\n<template>\n    <div>\n       <span>{{ abs_time }}</span><span v-show=\"true\">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp {{  relative_time}}</span>\n    </div>\n</template>\n","\n<script>\n    import timestamp from 'unix-timestamp'\nexport default {\n\n    props: ['id'],\n    data() {\n        return {\n            reply: null,\n            author:null,\n            time:null,\n        }\n    },\n    mounted() {\n        fetch(`https://hacker-news.firebaseio.com/v0/item/${this.id}.json?print=pretty`).then(res => res.json()).then(data=> {this.reply=data.text;this.author=data.by;this.time=data.time}).catch(error=>console.log(error))\n\n    },\n    computed:{\n        postTime(){\n            const pattern = / GMT\\+0800 \\(China Standard Time\\)$/;\n            return timestamp.toDate(this.time).toString().replace(pattern, '');\n        }\n    \n    }\n}\n\n</script>\n<template>\n    <div v-if=\"reply\">\n    <div  class='replay' v-html=\"reply\">\n    </div>\n    <div id=\"author\">\n        by {{ author }} &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{{ postTime }}\n    </div>\n    </div>\n    <div v-else> \n        <div>loading</div>\n    </div>\n    <br />\n</template>\n<style scoped>\n.replay{\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\n    border-color: rgb(241,243,244) ;border-style:solid ;\n    border-width: 1px;\n    border-radius: 30px; \n    padding: 20px;\n}\n\n#author{\n    position: relative;\n    top:-20px;\n    left:21px;\n    font-family: Garamond;\n    font-size: 15px;\n    color: indianred;\n    font-style: italic;\n}\n\n</style>","<script>\nimport reply from './reply.vue';\nimport timestamp from \"unix-timestamp\";\nexport default {\n    props: ['id'],\n    data() {\n        return {\n            comment: null,\n            kids: [],\n            showReply: true,\n            time: null,\n            user:null,\n            \n        }\n    },\n    methods: {\n        toggle() {\n            this.showReply = !this.showReply;\n            console.log(this.showReply);\n        },\n    },\n    computed:{\n        showTime(){\n            return {hour:(parseInt(timestamp.now())-parseInt(this.time))/3600,min:(parseInt(timestamp.now())-parseInt(this.time))%60}\n        },\n        postTime(){\n            const pattern = / GMT\\+0800 \\(China Standard Time\\)$/;\n            return timestamp.toDate(this.time).toString().replace(pattern, '');\n        }\n\n    },\n    mounted() {\n        fetch(`https://hacker-news.firebaseio.com/v0/item/${this.id}.json?print=pretty`).then(res => res.json()).then(res=>{this.kids=res.kids||[];this.comment=res.text;this.time=res.time;this.user=res.by}).catch(error => console.log(error))\n   },\n    /*\n    async mounted() {\n        const res = await fetch(`https://hacker-news.firebaseio.com/v0/item/${this.id}.json?print=pretty`);\n        const data = await res.json();\n        this.comment = data.text;\n        if(data.kids==undefined){\n            console.log(data)\n        }\n        this.kids = data.kids || [];\n    },*/\n\n\n}\n</script>\n<template>\n    <link rel=\"preconnect\" href=\"https://rsms.me/\">\n<link rel=\"stylesheet\" href=\"https://rsms.me/inter/inter.css\">\n    <div class=\"comment\">\n       <div id=\"comment-root\">\n        <div class=\"comment-html\" v-html=\"comment\"></div>\n        <div>{{ Math.round(showTime.hour) }} hours {{showTime.min.toString().slice(0,2) }} mins ago </div>\n        <button @click=\"toggle\" :hidden=\"!kids.length\">show {{kids.length}} replies</button>\n        <br/>\n        <br/>   \n        <ol class=\"grid-container\" v-if=\"showReply\">\n\n            <li class=\"no-number\" v-for=\"kid in kids\">\n                <reply :id=\"kid\"></reply>\n            </li>\n        </ol>\n        </div>\n    </div>\n</template>\n<style scoped>\n\n#author{\n    position: relative;\n    top:-20px;\n    left:21px;\n    font-family: Garamond;\n    font-size: 15px;\n    color: indianred;\n    font-style: italic;\n}\n#comment-root{\n    grid-column:1/5;\n    margin-left:40px;\n}\n.grid-container{\n    display: grid;\n    grid-template-columns: 1fr 1fr ;\n    grid-gap: 10px;\n    padding: 10px;\n    list-style: none;\n};\n.no-number{\n    list-style: none;\n}\n.comment{\n    position: relative;\n    display: grid;\n    grid-template-columns: repeat(5,1fr);\n\tborder-bottom: 1px solid rgb(241,243,244);\n\tpadding-bottom: 16px;\n\toverflow: hidden;\n}\n.comment-html{\n    font-family: \"inter\";\n}\n\n:root{\n--font: var(--font-sans);\n--font-sans: 'Inter', -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantrell, \"Open Sans\", \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n--font-serif: 'Source Serif Pro', \"Iowan Old Style\", \"Sitka Text\", Palatino, \"Book Antiqua\", serif;\n--theme-colors: 255,102,0;\n--line-colors:rgb(241,243,244);\n}\n\n</style>\n","<script setup >\nconst route = useRoute()\nconsole.log(route.params.id)\nconst story = ref(null);\nconst domain=ref(null);\nconst comment = ref(null);\nonMounted(()=>{\n    fetch(`https://hacker-news.firebaseio.com/v0/item/${route.params.id}.json?print=pretty`).then(res => res.json())\n    .then(data => {story.value = data;return null;})\n    .then(data=>{var url=new URL(story.value.url);domain.value=(url.hostname);\n\n    console.log(\"succ\");})\n})\n</script>\n<template>\n    <Navbar></Navbar>\n    <div id=\"Comments-root\" v-if=\"story\">\n        <a class=\"title\" :href=\"story.url\"><h3>{{ story.title }}</h3></a>\n        <div id=\"time \" class=\"container\">\n            <a :href=\"story.url\" class=\"domain\">www.{{ domain }}</a>\n        </div>\n        <Time id=\"source-time\" :time=\"story.time \"></Time>\n\n        <ul v-for=\"kid in story.kids\">\n            <li><Comments :id=\"kid\"></Comments>\n                <br/></li></ul>\n            \n    </div>\n    <div v-else>\n        <h1>loading...</h1>\n        </div>\n</template>\n\n<style scoped>\n#source-time{\n    font-family:Georgia, 'Times New Roman', Times, serif ;\n    color: grey;\n    text-align: right;\n    margin-right: 200px;\n}\n.container{\n    display: flex;\n}\n.title{\n    font-family: Georgia, 'Times New Roman', Times, serif;\n    color: rebeccapurple;\n    text-align: center;\n    font-size: 30px;\n    padding: 20px;\n}\n#time{\n    font-family:Georgia, 'Times New Roman', Times, serif ;\n    text-align: right;\n    color: grey;\n}\n#container{\n    display: flex;\n}\n.domain{\n    flex-basis: 200px;\n    flex-grow: 1;\n    color:orange;\n    margin-right:100px;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 20px;\n        \n}\n.time{\n    text-align: left;\n}\n.container a{\n    text-align:right ;\n\n}\n.Comments-root{\n    list-style-type: none;\n}\nul{\n    list-style-type: none;\n\n}\n\n</style>"],"names":["_sfc_main","_ssrInterpolate","_ssrIncludeBooleanAttr","_ssrRenderList","_ssrRenderComponent"],"mappings":"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"}